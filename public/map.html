<!DOCTYPE html>
<html>
  <!-- for the entire project code, checkout: http://github.com/vicapow/water-supply -->
  <head>
    <script src="js/main.min.js?t=1394520775850" charset="utf-8"></script>
    <!-- <script src="js/angular.js" charset="utf-8"></script> -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <title>Historic California Reservoir Capacities</title>
    <link href="css/style.min.css?t=1394520775850" rel="stylesheet">
  </head>
  <body ng-app="myApp" ng-controller="MainCtrl" ng-clock>
    <loading-dialog ng-show="!loaded"></loading-dialog>
    <div class="map-container" ng-style="{opacity: loaded ? 1 : 0 }">
      <p>
        <div class="play-btn" ng-model="playing" ng-click="playButtonClicked()">
          {{ playing ? 'pause' : 'play' }}
        </div>
        {{ year }} - {{ months[month] }}
      </p>
      <scale-slider domain="domain" now="sliderPosition"></scale-slider>
      <water-map
        reservoirs="reservoirs"
        history="history"
        now="now"
        selected-reservoir="reservoir"
        shapefile="shapefile">
      </water-map>
      <div class="detail">
        <h1 class="title"> {{reservoir.station}}</h1>
        <p>
          storage: {{formatCapacity(history[now].reservoirs[reservoir.id])}}
          <span class="acre-feet">acre-feet</span><br>
          capacity: {{formatCapacity(reservoir.capacity)}}
          <span class="acre-feet">acre-feet</span><br>
          river: {{reservoir.stream}}
          <br>
          near by city: {{reservoir.nearby_city}}
        </p>
        <reservoir-detail reservoir="reservoir" year="year" month="month">
        </reservoir-detail>
      </div>
    </div>
  </body>
  <!--
  <script src="js/d3.js" charset="utf-8"></script>
  <script src="js/topojson.v1.js" charset="utf-8"></script>
  <script src="js/main.js"></script>
  <script src="js/directives/bar-chart.js"></script>
  <script src="js/directives/water-map.js"></script>
  <script src="js/directives/loading-dialog.js"></script>
  <script src="js/directives/reservoir-detail.js"></script>
  <script src="js/directives/scale-slider.js"></script>
-->

  <!-- google analytics tracking code -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-11200159-17', 'vicapow.github.io');
    ga('send', 'pageview');
  </script>
</html>